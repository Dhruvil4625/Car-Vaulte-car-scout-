{% extends 'base.html' %}
{% load static %}
{% block title %}Explore Cities | Car Scout{% endblock %}

{% block content %}
<style>
  /* --- Cities Hero Section --- */
  .cities-hero {
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%), 
                url('https://images.unsplash.com/photo-1449844908441-8829872d2607?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') center/cover no-repeat;
    padding: 70px 0 80px;
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .cities-hero h1 {
    font-size: 2.8rem;
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .cities-hero h1 span {
    color: #ef4444; /* Vibrant Red Accent */
  }

  .cities-hero p {
    color: #94a3b8;
    font-size: 1.1rem;
    max-width: 600px;
    margin: 0 auto;
  }

  /* --- Interactive City Cards --- */
  .cities-grid-wrapper {
    margin-top: -40px; 
    position: relative;
    z-index: 10;
    padding-bottom: 60px;
  }

  .city-card {
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.03);
    height: 100%;
  }

  .city-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.08);
    border-color: rgba(239, 68, 68, 0.3);
  }

  .city-icon {
    width: 60px;
    height: 60px;
    background: transparent;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    overflow: hidden;
    border: 2px solid rgba(239, 68, 68, 0.1);
    transition: all 0.3s ease;
  }

  .city-icon img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .city-card:hover .city-icon {
    border-color: #ef4444;
  }

  .city-info {
    flex-grow: 1;
  }

  .city-info h4 {
    margin: 0 0 3px 0;
    font-size: 1.15rem;
    font-weight: 700;
    color: #0f172a;
    transition: color 0.3s ease;
    text-transform: capitalize;
  }

  .city-card:hover .city-info h4 {
    color: #ef4444;
  }

  .city-info p {
    margin: 0;
    font-size: 0.85rem;
    color: #64748b;
    font-weight: 500;
  }

  .city-arrow {
    color: #cbd5e1;
    font-size: 1.1rem;
    transition: all 0.3s ease;
  }

  .city-card:hover .city-arrow {
    color: #ef4444;
    transform: translateX(5px);
  }

  /* --- Secondary Action --- */
  .btn-outline-custom {
    border: 2px solid #cbd5e1;
    color: #475569;
    background: transparent;
    font-weight: 700;
    padding: 12px 30px;
    border-radius: 8px;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: inline-flex;
    align-items: center;
  }

  .btn-outline-custom:hover {
    border-color: #0f172a;
    color: #ffffff;
    background: #0f172a;
    box-shadow: 0 10px 20px rgba(15, 23, 42, 0.2);
  }
</style>

<section class="cities-hero">
  <div class="container">
    <h1>Explore <span>Showrooms</span></h1>
    <p>Discover our extensive network of certified dealerships and premium vehicle inventory across major cities.</p>
  </div>
</section>

<section class="container cities-grid-wrapper">
  <div class="row g-4">
    
    {% for c in cities %}
    <div class="col-12 col-md-6 col-lg-4 col-xl-3">
      <a href="{% url 'city_showrooms' c.slug %}" class="city-card dynamic-city" data-city="{{ c.name|lower }}">
        
        <div class="city-icon">
          <img class="city-img" src="https://img.icons8.com/color/1200/visit.jpg" alt="{{ c.name }} icon">
        </div>
        
        <div class="city-info">
          <h4>{{ c.name }}</h4>
          <p>{{ c.state }}</p>
        </div>
        
        <div class="city-arrow">
          <i class="fa-solid fa-chevron-right"></i>
        </div>

      </a>
    </div>
    {% empty %}
    <div class="col-12">
      <div class="p-5 text-center bg-white" style="border-radius: 12px; border: 2px dashed #cbd5e1;">
        <i class="fa-solid fa-earth-americas fs-1 mb-3 text-muted"></i>
        <h4 class="text-secondary fw-bold">No cities available</h4>
        <p class="mb-0 text-muted">Showrooms are currently being updated. Please check back soon.</p>
      </div>
    </div>
    {% endfor %}

  </div>

  <div class="text-center mt-5 pt-3">
    <a href="{% url 'sellers' %}" class="btn-outline-custom">
      <i class="fa-solid fa-users me-2"></i> Browse All Sellers
    </a>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Dictionary matching lowercase city names to the image URLs you provided
    const cityImages = {
      "ahmedabad": "https://www.shutterstock.com/image-vector/ahmedabad-city-jhulta-minara-sidi-260nw-2319811805.jpg",
      "vadodara": "https://www.shutterstock.com/image-vector/historical-icon-vadodara-city-laxmi-260nw-2193681229.jpg",
      "surat": "https://www.shutterstock.com/image-vector/outline-surat-india-city-skyline-260nw-2458475075.jpg",
      "rajkot": "https://www.shutterstock.com/image-vector/rajkot-skyline-india-travel-tourism-260nw-2654815425.jpg",
      "mumbai": "https://thumbs.dreamstime.com/b/gateway-india-silhouette-architecture-landmark-mumbai-cityscape-vector-illustration-building-tourism-monument-407902247.jpg",
      "pune": "https://www.shutterstock.com/image-vector/punes-famous-shaniwarwada-line-icon-260nw-1879559971.jpg",
      "nagpur": "https://www.shutterstock.com/image-vector/nagpur-skyline-plane-over-city-260nw-2654815443.jpg",
      "nashik": "https://www.shutterstock.com/image-vector/nashik-india-skyline-temple-grapes-260nw-2654815525.jpg",
      "bengaluru": "https://i.pinimg.com/736x/8d/d5/33/8dd53330cc49cf81436562def07a7195.jpg",
      "mysore": "https://i.pinimg.com/736x/be/a1/9d/bea19d9e9e8b941710efc4fe1fbb8cb4.jpg",
      "chennai": "https://www.shutterstock.com/image-vector/indian-city-icon-chennaieric-schmidt-600nw-2237619569.jpg",
      "coimbatore": "https://www.shutterstock.com/image-vector/coimbatore-city-clock-tower-icon-600nw-2266034565.jpg",
      "hyderabad": "https://www.shutterstock.com/image-vector/illustration-charminar-monument-hyderabad-telangana-600nw-2511481515.jpg",
      "warangal": "https://cdn.dribbble.com/userupload/21853398/file/original-b8a047f6394bb1b043a2309927bc8e9e.png",
      "delhi": "https://www.shutterstock.com/image-vector/india-gate-new-delhi-icon-260nw-1358051510.jpg",
      "new delhi": "https://www.shutterstock.com/image-vector/india-gate-new-delhi-icon-260nw-1358051510.jpg",
      "noida": "https://www.shutterstock.com/image-vector/new-delhi-noida-city-border-260nw-2190011893.jpg",
      "gurugram": "https://www.shutterstock.com/image-vector/gurgaon-city-icon-modern-building-260nw-2316335813.jpg",
      "kolkata": "https://cdn.iconscout.com/icon/free/png-256/free-victoria-memorial-icon-svg-download-png-119694.png",
      "howrah": "https://img.freepik.com/premium-vector/bridge-logo-icon-design-illustration_586739-213.jpg",
      "jaipur": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRl70DylV5zgxlwNek7zlYoGIe4hUKtVBIcYQ&s",
      "udaipur": "https://thumbs.dreamstime.com/b/udaipur-city-skyline-iconic-buildings-landmarks-palace-lake-temples-waterfront-domes-402804475.jpg",
      "lucknow": "https://www.shutterstock.com/image-vector/flat-vector-illustration-rajwada-palace-260nw-2664600517.jpg",
      "kanpur": "https://www.shutterstock.com/image-vector/kanpur-city-skyline-landmark-vector-260nw-2654815393.jpg",
      "agra": "https://www.shutterstock.com/image-vector/agra-skyline-silhouette-historic-indian-600nw-2633739027.jpg",
      "bhopal": "https://media.istockphoto.com/id/1500963695/vector/bhopal-city-shaukat-mahal-icon-illustration.jpg",
      "indore": "https://www.shutterstock.com/image-vector/indore-skyline-vector-india-palace-260nw-2654815111.jpg",
      "patna": "https://thumbs.dreamstime.com/b/patna-city-skyline-iconic-buildings-landmarks-stupa-museum-temple-historic-dome-402799348.jpg",
      "ranchi": "https://lens.usercontent.google.com/banana?agsi=CmdnbG9iYWw6OjAwMDA1NWNmZWM3MDAyNmQ6MDAwMDAwZWI6MTo1YTg1ODQyOTg0NDc3YTg1OjAwMDA1NWNmZWM3MDAyNmQ6MDAwMDAxODZmN2EwMzM2ODowMDA2NGJhMWFkZWY0MGJmEAI=",
      "bhubaneswar": "https://c8.alamy.com/comp/2K3JD25/bhubaneswar-city-shanti-stupa-dhauligiri-dhauli-hill-icon-illustration-as-eps-10-file-2K3JD25.jpg",
      "chhattisgarh": "https://www.shutterstock.com/image-vector/indian-city-icon-chhattisgarhlakshman-temple-260nw-1485989381.jpg",
      "dehradun": "https://www.shutterstock.com/image-vector/dehradun-city-clock-tower-icon-600nw-2187197689.jpg",
      "raipur": "https://www.shutterstock.com/image-vector/raipur-skyline-vector-india-white-260nw-2654815511.jpg",
      "guwahati": "https://www.shutterstock.com/image-vector/guwahati-skyline-assam-airplane-vector-260nw-2654815539.jpg",
      "imphal": "https://www.shutterstock.com/image-vector/palace-kangla-old-imphal-manipur-260nw-1985882183.jpg",
      "srinagar": "https://c8.alamy.com/comp/2PX06TW/jamia-masjid-mosque-srinagar-jammu-kashmir-icon-illustration-as-eps-10-file-2PX06TW.jpg",
      "jammu": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS2eh2OWJV8yBY-UKhDyG7mix7pOuVbkERhag&s",
      "panaji": "https://www.shutterstock.com/image-vector/our-lady-immaculate-conception-church-260nw-2278827533.jpg",
      "kochi": "https://www.shutterstock.com/image-vector/kochi-india-city-line-skyline-260nw-1626525166.jpg",
      "madurai": "https://cdn.dribbble.com/userupload/21041612/file/original-878bf2adde44547c8c9b21783aa37ac7.jpg"
    };

    // Find all city cards
    const cityCards = document.querySelectorAll('.dynamic-city');
    
    cityCards.forEach(card => {
      // Get the city name from the data attribute
      const cityName = card.getAttribute('data-city').trim();
      
      // If we have a matching image in our dictionary, update the src
      if (cityImages[cityName]) {
        const imgTag = card.querySelector('.city-img');
        imgTag.src = cityImages[cityName];
      }
    });
  });
</script>

{% endblock %}